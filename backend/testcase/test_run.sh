#!/bin/bash
file_list=$(ls testcase/*_test.py)
for f in $file_list; do
	echo "\033[33m"
	echo "---------------------------------------------------------------------------------------------------------------"
	echo "----------------- start testing $f ------------------------"
	echo "---------------------------------------------------------------------------------------------------------------"
	echo "\033[0m"
	python3 $f
	if [ $? -ne 0 ]
	then
		echo "\033[31m"
		echo "run $f is wrong...."
		echo "\033[0m"
		exit 1
	fi
	echo "\033[32m"
	echo "---------------------------------------------------------------------------------------------------------------"
	echo "----------------- finish testing $f ------------------------"
	echo "---------------------------------------------------------------------------------------------------------------"
	echo "\033[0m"
done

number=`echo "$file_list" | wc -l`
echo "Finish total \033[32m$number\033[0m test file"
